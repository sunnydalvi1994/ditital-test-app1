import{r,u as w,j as a,L as M,P as $,B as l,T as i,G as o,a as x,ax as m,I as J,as as L,y as g}from"./index-CN90tRrT.js";import{S as b}from"./Select-CYCOh-S1.js";function q(){const[t,c]=r.useState({}),[d,N]=r.useState(!1),[S,h]=r.useState(!0),p=r.useRef({}),v=w(),f=["bankStatement","itr2024","itr2023","itr2022","salaryJan24","salaryFeb24","salaryMar24","latestPhoto"];r.useEffect(()=>{const e=f.every(s=>t[s]?.file);N(e)},[t]);const F=(e,s,n,j)=>{if(s){c(y=>({...y,[e]:{...y[e],file:s}}));const A=j?` (${j})`:"";g.success(`${n}${A} uploaded successfully! ðŸŽ‰`,{autoClose:2e3,position:"bottom-right"})}},C=e=>{c(s=>({...s,[e]:{...s[e],file:null}})),p.current[e]&&(p.current[e].value="")},D=(e,s)=>{c(n=>({...n,[e]:{...n[e],year:s}}))},P=(e,s)=>{c(n=>({...n,[e]:{...n[e],monthYear:s}}))},u=e=>a.jsx(o,{item:!0,xs:12,sm:6,md:3,children:a.jsxs(l,{className:`upload-box ${t[e.id]?.file?"uploaded":""}`,children:[a.jsx(l,{className:"upload-icon",children:e.icon}),a.jsx(i,{variant:"h6",className:"upload-title",children:e.name}),e.year&&a.jsx(l,{className:"year-select-box",children:a.jsxs(b,{fullWidth:!0,displayEmpty:!0,value:t[e.id]?.year??"",onChange:s=>D(e.id,s.target.value),variant:"standard",className:"year-select",children:[a.jsx(m,{value:"",children:a.jsx("em",{children:"Select Year"})}),[2022,2023,2024,2025].map(s=>a.jsx(m,{value:s,children:s},s))]})}),e.monthYear&&a.jsx(l,{className:"month-select-box",children:a.jsxs(b,{fullWidth:!0,displayEmpty:!0,value:t[e.id]?.monthYear??"",onChange:s=>P(e.id,s.target.value),variant:"standard",className:"month-select",children:[a.jsx(m,{value:"",children:a.jsx("em",{children:"Select Month & Year"})}),["JAN 24","FEB 24","MAR 24","APR 24","MAY 24","JUN 24","JUL 24","AUG 24","SEP 24","OCT 24","NOV 24","DEC 24"].map(s=>a.jsx(m,{value:s,children:s},s))]})}),e.note&&a.jsx(i,{variant:"body2",className:"doc-note",children:e.note}),a.jsx("input",{ref:s=>p.current[e.id]=s,type:"file",id:`file-input-${e.id}`,className:"hidden-file-input",onChange:s=>F(e.id,s.target.files[0],e.name,e.year||e.monthYear||""),accept:".pdf,.jpg,.png",disabled:!!t[e.id]?.file}),a.jsx("label",{htmlFor:`file-input-${e.id}`,children:a.jsx(x,{className:`verify-btn doc-btn ${t[e.id]?.file?"verified":""}`,component:"span",disabled:!!t[e.id]?.file,children:t[e.id]?.file?"File Selected":"Choose File"})}),t[e.id]?.file&&a.jsxs(l,{className:"upload-status-box",children:[a.jsxs(i,{className:"upload-status",sx:{display:"flex"},children:[t[e.id].file.name," uploaded"]}),a.jsx(J,{size:"small",onClick:()=>C(e.id),className:"close-icon-button",children:a.jsx(L,{fontSize:"inherit",sx:{fontSize:14}})})]})]})},e.id),Y=()=>d?{background:"linear-gradient(135deg, #28a745, #20c997)",color:"white",boxShadow:"0 4px 12px rgba(40,167,69,0.3)"}:{background:"linear-gradient(135deg, #f44336, #d32f2f)",color:"white",boxShadow:"0 4px 12px rgba(244,67,54,0.3)"},R=d?"âœ“ All Documents Verified - Proceed":`Verify ${f.filter(e=>!t[e]?.file).length} more documents`,U=[{id:"bankStatement",name:"Bank Statement",note:"You can upload multiple bank statements."}],k=[{id:"itr2024",name:"Form 16 / ITR",year:"2024"},{id:"itr2023",name:"Form 16 / ITR",year:"2023"},{id:"itr2022",name:"Form 16 / ITR",year:"2022"}],T=[{id:"salaryJan24",name:"Salary Slip",monthYear:"JAN 24"},{id:"salaryFeb24",name:"Salary Slip",monthYear:"FEB 24"},{id:"salaryMar24",name:"Salary Slip",monthYear:"MAR 24"}],B=[{id:"latestPhoto",name:"Latest Photo"}];r.useEffect(()=>{const e=setTimeout(()=>h(!1),1e3);return()=>clearTimeout(e)},[]);const E=()=>{if(!d){g.error("Please upload all required documents.");return}h(!0),setTimeout(()=>{h(!1),v("/thank-you")},1e3)};return a.jsx(M,{loading:S,children:a.jsx($,{children:a.jsxs(l,{className:"step-content",children:[a.jsxs(l,{className:"upload-header",children:[a.jsx(i,{variant:"h4",sx:{color:"#333"},children:"Document Upload"}),a.jsx(i,{variant:"body1",children:"Upload your documents as PDF files for quick verification"})]}),a.jsx(o,{container:!0,spacing:2,className:"upload-grid",sx:{mb:4},children:U.map(u)}),a.jsx(l,{className:"upload-header",children:a.jsx(i,{variant:"h6",sx:{color:"#333"},children:"Upload/Fetch Form 16 OR Upload ITR"})}),a.jsx(o,{container:!0,spacing:2,className:"upload-grid",sx:{mb:4},children:k.map(u)}),a.jsx(l,{className:"upload-header",children:a.jsx(i,{variant:"h6",sx:{color:"#333"},children:"Upload Salary Slip"})}),a.jsx(o,{container:!0,spacing:2,className:"upload-grid",sx:{mb:4},children:T.map(u)}),a.jsx(o,{container:!0,spacing:2,className:"upload-grid",sx:{mb:4},children:B.map(u)}),a.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",mt:4,gap:1},children:[a.jsx(x,{className:"prev-btn",variant:"contained",color:"secondary",children:"Previous"}),a.jsx(x,{className:"next-btn",variant:"contained",sx:Y(),disabled:!d,onClick:E,style:{whiteSpace:"nowrap"},children:R})]})]})})})}export{q as default};
